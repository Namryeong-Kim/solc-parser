# solc-parser

## ê¸°ë³¸ í˜•íƒœ

```solidity
pragma solidity [version];
```

## ì‚¬ìš©ë²•

```shell
./solc-parser.sh [file_path]
```

## ê° íŒŒì¼ì— ëŒ€í•œ ì„¤ëª…

- `parse_solc_version.py` :

  - ì‚¬ìš©ìê°€ inputìœ¼ë¡œ ë„£ì–´ì¤€ íŒŒì¼ì— ëŒ€í•´ ë²„ì „ íŒŒì‹±
  - range í˜•íƒœë¡œ ì…ë ¥í•œ ê²½ìš°(ex. >=0.5.0 <=0.8.9) í•´ë‹¹ ë²”ìœ„ ë‚´ì—ì„œ ê°€ì¥ ìµœì‹  ë²„ì „ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆë„ë¡ max ê°’ ì¶”ì¶œí•¨
  - ë‹¨ë… ì‹¤í–‰ ì‹œ ì‚¬ìš© í˜•íƒœ
    ```shell
    python3 parse_solc_version.py [file_path] [option] [option_value]
    ```
  - option :

    `--info`: input íŒŒì¼ì˜ ë²„ì „, ë²„ì „ì— ì‚¬ìš©ëœ ê¸°í˜¸ í™•ì¸ ê°€ëŠ¥. rangeì¼ ê²½ìš° ëª¨ë“  ê¸°í˜¸, ë²„ì „ ì •ë³´ ì¶œë ¥

    `--type`: sign, versionì„ valueì— ì…ë ¥í•  ìˆ˜ ìˆìŒ.

        - sign, versionì„ ê°ê° í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, rangeì¼ ê²½ìš° ì“°ì—¬ì§„ ë²„ì „ ì¤‘ ê°€ì¥ ë†’ì€ ë²„ì „ê³¼ í•´ë‹¹ ë²„ì „ì´ ê°–ëŠ” ê¸°í˜¸ë¥¼ ë°˜í™˜í•¨

- `get_version_list.py` :

  - ethereum/solidityì˜ release í˜ì´ì§€ì—ì„œ updateëœ ë²„ì „ ì •ë³´ë¥¼ í¬ë¡¤ë§í•˜ì—¬ ê°€ì ¸ì˜´
  - solc_list.txtì— ë²„ì „ë§Œ ì¶”ì¶œí•˜ì—¬ ì €ì¥í•¨
  - ë‹¨ë… ì‹¤í–‰ ì‹œ ì‚¬ìš© í˜•íƒœ
    ```shell
    python3 get_version_list.py
    ```

- `search_highest_version.py` :

  - ^, ~, >= ê¸°í˜¸ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ë²„ì „ì˜ ë¶€ë²„ì „ ì¤‘ ê°€ì¥ ìµœì‹ ì˜ íŒ¨ì¹˜ ë²„ì „ì„ ê°€ì ¸ì˜´
  - ì˜ˆ) ^0.8.9 ë¼ë©´, 0.8.20 ë²„ì „ ê°€ì ¸ì˜´. ~0.7ì´ë¼ë©´ 0.7.6
  - ë‹¨ë… ì‹¤í–‰ ì‹œ ì‚¬ìš© í˜•íƒœ
    ```shell
    python3 search_highest_version.py [target_version]
    ```

- `search_less_or_greater_case.py` :

  - \> , < ê¸°í˜¸ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ë²„ì „ì˜ ë¶€ë²„ì „ ì¤‘ ê°€ì¥ ê°€ê¹Œìš´ íŒ¨ì¹˜ ë²„ì „ì„ ì„ íƒí•¨

    - ë§ˆì§€ë§‰ íŒ¨ì¹˜ ë²„ì „(ex. 0.7.6)ì¼ë•ŒëŠ” ë¶€ë²„ì „ì— +1ì„ í•´ì¤˜ì•¼í•¨

    - ë‚˜ë¨¸ì§€ ê²½ìš°ì—ëŠ” í•´ë‹¹ ë¶€ë²„ì „ ì¤‘ ê°€ì¥ ìµœì‹ ì˜ íŒ¨ì¹˜ ë²„ì „ì„ ê°€ì ¸ì™€ì•¼ í•˜ëŠ”ë°, ì´ë¶€ë¶„ì€ ì•„ì§ í•´ê²° ì•ˆë¨

- `solc-parser.sh`
  - ë²„ì „ ë¦¬ìŠ¤íŠ¸ update ë° ê¸°í˜¸ ì¡°ê±´ì— ë”°ë¥¸ python íŒŒì¼ í˜¸ì¶œí•¨
  - ì„ íƒí•´ì•¼ í•˜ëŠ” ë²„ì „ì— ëŒ€í•´ `solc-select install`ê³¼ `use` ëª…ë ¹ì„ ìˆ˜í–‰í•¨

## ê³ ë ¤í•´ì•¼í•  ì‚¬í•­

- ìµœì‹  ë²„ì „ ì‚¬ìš©

<aside>
ğŸ’¡ ê²½ìš°ì˜ ìˆ˜

- [x] 0.x
- [x] 0.x.x
- ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°í˜¸
  - [x] ^ : ìµœì‹  ë§ˆì´ë„ˆ ë²„ì „
  - [x] ~ : ìµœì‹  íŒ¨ì¹˜ ë²„ì „
  - [ ] \* : ëª¨ë“  ë²„ì „
    - pragma solidity \*
    - pragma solidity \*.0
    - pragma solidity \*.x
    - pragma solidity \*.\*
    - pragma solidity \*.\*.0
    - pragma solidity \*.\*.x
    - pragma solidity \*.\*.\*
    - pragma soldity 0.\*
    - pragma soldity 0.\*.\*
    - pragma soldity 0.0.\*
  - [x] = : íŠ¹ì • ë²„ì „
  - [x] â‰¥ : íŠ¹ì • ë²„ì „ ì´ìƒ
  - [x] â‰¤ : íŠ¹ì • ë²„ì „ ì´í•˜
  - [x] > : íŠ¹ì • ë²„ì „ ì´ˆê³¼
  - [x] < : íŠ¹ì • ë²„ì „ ë¯¸ë§Œ
  - [x] ìˆ«ìë§Œ ê¸°ì…
    - pragma solidty 0.x.x
- [x] range ì„¤ì •
  - â‰¥0.4.5 â‰¤0.7.0

</aside>

## ì¡°ê±´ì— ë”°ë¥¸ ë²„ì „ ì„ íƒ

### ê³ ë ¤í•´ì•¼í•  ê²ƒ

<aside>
ğŸ’¡ List

1. ë¶€ë²„ì „ê³¼ ì¼ì¹˜í•˜ëŠ” ê²ƒ ì¤‘ ê°€ì¥ ë†’ì€ ë²„ì „ì„ ê³ ë¥´ë©´ ë˜ëŠ” ê²½ìš°
   - [x] ìºëŸ¿ ê¸°í˜¸(^)
   - [x] ~
   - [x] â‰¥
   - [x] range
   - [ ] \*
2. ì¶”ì¶œí•œ target_versionê³¼ ë™ì¼í•œ ë²„ì „ì„ ê³ ë¥´ë©´ ë˜ëŠ” ê²½ìš°
   - [x] =
   - [x] â‰¤
   - [x] ìˆ«ìë§Œ ê¸°ì…
3. ì…ë ¥í•œ ë²„ì „ì˜ íŒ¨ì¹˜ë²„ì „ì—ì„œ -1
   - [x] <
         â†’ 0.8 ì´ëŸ°ì‹ìœ¼ë¡œ ë¶€ë²„ì „ë§Œ ì¤¬ì„ë•ŒëŠ” ë¶€ë²„ì „ -1 í•´ì¤˜ì•¼ ë¨
4. ì…ë ¥í•œ ë²„ì „ì˜ íŒ¨ì¹˜ë²„ì „ì—ì„œ +1
   - [x] >
5. rangeë¡œ ë“¤ì–´ì˜¨ ê²½ìš°
   - [x] ê¸°í˜¸ì™€ ë²„ì „ì„ ê°ê° ë¶„ë¦¬í•´ì„œ ì €ì¥ â†’ list
   - [x] ë²„ì „ ë¦¬ìŠ¤íŠ¸ ì¤‘ ê°€ì¥ ë†’ì€ ë²„ì „ì˜ ê¸°í˜¸ì— ë”°ë¥¸ 1-4 ë¡œì§ ì—°ê²°

- [x] ê¸°í˜¸ë„ ì¶”ì¶œí•  ìˆ˜ ìˆì–´ì•¼ í•¨
</aside>

## ê°œì„  ë° í•´ê²°í•´ì•¼í•  ê²ƒ

<aside>
ğŸ’¡ List

    1. ì˜ˆì™¸ ë°œìƒì‹œ í˜ì´ì§€ ë¡œë”©ì„ 1ì´ˆ ê¸°ë‹¤ë ¸ë‹¤ê°€ ìˆ˜í–‰í•¨ â†’ output ì¶œë ¥ê¹Œì§€ ì‹œê°„ì´ ì¢€ ê±¸ë¦¼
    â†’ selenium ë¬´ê±°ì›Œì„œ request ì´ìš©í•˜ëŠ” í˜•íƒœë¡œ ë³€ê²½

    2. í˜„ì¬ëŠ” ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì „ì²´ ë¦¬ìŠ¤íŠ¸ë¥¼ í¬ë¡¤ë§í•˜ëŠ” ë°©ì‹ â†’ ë”°ë¡œ íŒŒì¼ì— ì €ì¥í•´ë‘ê³  ìƒˆë¡œìš´ ë²„ì „ ë¦´ë¦¬ì¦ˆê°€ ë‚˜ì˜¬ë•Œ ìƒˆë¡œìš´ ë²„ì „ë§Œ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•´ì•¼í•  ê²ƒ ê°™ìŒ
    - ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•´ì„œ forë¬¸ìœ¼ë¡œ ì €ì¥ëœ íŒŒì¼ì˜ ì²˜ìŒê³¼ ë¦´ë¦¬ì¦ˆ í¬ë¡¤ë§í•œ ê°’ì´ ê°™ë‹¤ë©´ ìƒˆë¡œìš´ ë²„ì „ì´ ë‚˜ì˜¨ ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ break/returní•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ?
    [x] ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ ì™„ë£Œ
    [x] íŒŒì¼ì— ì €ì¥í•˜ë„ë¡ ë³€ê²½

    3. ì™€ì¼ë“œì¹´ë“œ(*) ê²½ìš°ì˜ ìˆ˜ ì²˜ë¦¬í•˜ê¸°

    4. >, >= ê¸°í˜¸ ì²˜ë¦¬
    [] ë§ˆì§€ë§‰ íŒ¨ì¹˜ ë²„ì „(ex. 0.7.6)ì¼ë•ŒëŠ” ë¶€ë²„ì „ì— +1ì„ í•´ì¤˜ì•¼í•¨
    [] ë‚˜ë¨¸ì§€ ê²½ìš°ì—ëŠ” í•´ë‹¹ ë¶€ë²„ì „ ì¤‘ ê°€ì¥ ìµœì‹ ì˜ íŒ¨ì¹˜ ë²„ì „ì„ ê°€ì ¸ì™€ì•¼ í•˜ëŠ”ë°, ì´ë¶€ë¶„ì€ ì•„ì§ í•´ê²° ì•ˆë¨
    - >= 0.7.6ì´ë©´ 0.7 ë²„ì „ì¤‘ì— ê°€ì¥ ë†’ì€ 0.7.6ì„ ì„¤ì¹˜í•˜ëŠ”ê²Œ ë§ëŠ”ì§€, 0.8ë²„ì „ì„ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ëª¨ë¥´ê² ìŒ
    - remixë¡œ ì•„ë˜ ì½”ë“œ ëŒë ¤ë³´ë‹ˆ ìë™ìœ¼ë¡œ 0.4ë²„ì „ ì¤‘ì— ê°€ì¥ ë†’ì€ 0.4.26 ë²„ì „ ê³ ë¦„
    ```solidity
        pragma solidity >0.4.24;

        contract Test {
        constructor() public { b = 0x12345678901234567890123456789012; }
        event Event(uint indexed a, bytes32 b);
        event Event2(uint indexed a, bytes32 b);
        function foo(uint a) public { emit Event(a, b); }
        bytes32 b;
        }
    ```

</aside>
